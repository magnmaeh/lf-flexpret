target C {
  threading: true,
  build: "../scripts/build_flexpret_unix.sh",
}

import Scatter,Worker,Gather from "./libScatterGather.lf"

main reactor {
  scatter = new Scatter(offset=10msec, period=10msec)
  workers = new[7] Worker()
  gather = new Gather(n_workers=7)

  (scatter.out)+ -> workers.in
  workers.out-> gather.in
}